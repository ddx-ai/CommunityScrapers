# yaml-language-server: $schema=../validator/scraper.schema.json
name: "VRPorn"

sceneByURL:
  - action: scrapeXPath
    url:
      - vrporn.com/
    scraper: sceneScraper
sceneByName:
  action: scrapeXPath
  queryURL: https://vrporn.com/?s={}
  scraper: sceneSearch
sceneByQueryFragment:
  action: scrapeXPath
  queryURL: "{url}"
  scraper: sceneScraper

xPathScrapers:
  sceneScraper:
    common:
      $header: //header[@class="entry-header"]
      $footer: //footer[@class="entry-footer"]
      $videoarea: //footer[@class="entry-footer"]/div[@class="layout_area_video"]
    scene:
      Title: $header//h1[contains(@class,"content-title")]
      Date:
        selector: $footer//span[@class="footer-titles"]/text()
        postProcess:
          - replace:
              - regex: Posted on (?:Premium on )?(.*)
                with: $1
          - parseDate: January 02, 2006
      Details:
        selector: //div[contains(@class, "post-video-description")]//p/text()
        concat: "\n"
      Tags:
        Name: $footer//a[@rel="tag"]
      Performers:
        Name: $header/following-sibling::*//div[@class="name_pornstar"]
      Studio:
        Name: //a[@id="studio-logo"]//span[@class="footer-titles"]
      Image:
        selector: //dl8-video/@poster
        postProcess:
          - replace:
              - regex: (.*)(-\d+x\d+)(\.\w+$)
                with: $1$3
      URL: //link[@rel="canonical"]/@href
  sceneSearch:
    common:
      $videos: //div[@class="entry-footer all_hover box_item_video"]
    scene:
      Title: $videos//div[@class="d_post_meta"]/a
      URL: $videos//div[@class="d_post_meta"]/a/@href
      Image: $videos//div[@class="tube-thumbnail-wrapper"]/img/@src
      Studio:
        Name: $videos//div[@class="d_post_meta"]//span[@class="left_links"]
# Last Updated January 10, 2025
